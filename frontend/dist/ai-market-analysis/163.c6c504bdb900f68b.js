"use strict";(self.webpackChunkai_market_analysis=self.webpackChunkai_market_analysis||[]).push([[163],{1163:(D,c,n)=>{n.r(c),n.d(c,{TickerDiscoveryComponent:()=>R});var l=n(177),m=n(8359),p=n(4820),e=n(4438),u=n(1626),y=n(3512);function g(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Scan Market"),e.k0s())}function h(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Scanning..."),e.k0s())}function k(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Show History"),e.k0s())}function v(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Hide History"),e.k0s())}function f(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Adding..."),e.k0s())}function b(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Add to Symbol Mgmt"),e.k0s())}function F(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"\u2713 In Portfolio"),e.k0s())}function _(o,s){if(1&o){const t=e.RV6();e.j41(0,"tr",54)(1,"td",55)(2,"span",56),e.EFF(3),e.k0s()(),e.j41(4,"td",55)(5,"span",57),e.EFF(6),e.k0s()(),e.j41(7,"td",55)(8,"span",58),e.EFF(9),e.k0s()(),e.j41(10,"td",59),e.EFF(11),e.nI1(12,"number"),e.k0s(),e.j41(13,"td",59),e.EFF(14),e.k0s(),e.j41(15,"td",60)(16,"div",61),e.EFF(17),e.k0s()(),e.j41(18,"td",55)(19,"button",62),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.addToPortfolio(r))}),e.DNE(20,f,2,0,"span",9)(21,b,2,0,"span",9)(22,F,2,0,"span",9),e.k0s()()()}if(2&o){const t=s.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(t.symbol),e.R7$(3),e.JRh(t.trigger),e.R7$(2),e.HbH("bg-"+("high"===t.priority?"red":"medium"===t.priority?"yellow":"gray")+"-100 text-"+("high"===t.priority?"red":"medium"===t.priority?"yellow":"gray")+"-800"),e.R7$(),e.SpI(" ",t.priority," "),e.R7$(2),e.SpI(" ",e.i5U(12,14,100*t.confidence,"1.0-0"),"% "),e.R7$(3),e.SpI(" ",t.score," "),e.R7$(3),e.JRh(t.description),e.R7$(2),e.HbH(i.isInPortfolio(t.symbol)?"bg-gray-100 text-gray-500 cursor-not-allowed":i.addingToPortfolio[t.symbol]?"bg-blue-200 text-blue-600 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"),e.Y8G("disabled",i.addingToPortfolio[t.symbol]||i.isInPortfolio(t.symbol)),e.R7$(),e.Y8G("ngIf",i.addingToPortfolio[t.symbol]),e.R7$(),e.Y8G("ngIf",!i.addingToPortfolio[t.symbol]&&!i.isInPortfolio(t.symbol)),e.R7$(),e.Y8G("ngIf",i.isInPortfolio(t.symbol))}}function j(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div")(4,"h3",45),e.EFF(5,"Discovered Opportunities"),e.k0s(),e.j41(6,"p",46),e.EFF(7,"Tickers found during the latest scan"),e.k0s()(),e.j41(8,"button",47),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleHistory())}),e.DNE(9,k,2,0,"span",9)(10,v,2,0,"span",9),e.k0s()(),e.j41(11,"div",48)(12,"table",49)(13,"thead",50)(14,"tr")(15,"th",51),e.EFF(16,"Symbol"),e.k0s(),e.j41(17,"th",51),e.EFF(18,"Trigger"),e.k0s(),e.j41(19,"th",51),e.EFF(20,"Priority"),e.k0s(),e.j41(21,"th",51),e.EFF(22,"Confidence"),e.k0s(),e.j41(23,"th",51),e.EFF(24,"Score"),e.k0s(),e.j41(25,"th",51),e.EFF(26,"Description"),e.k0s(),e.j41(27,"th",51),e.EFF(28,"Actions"),e.k0s()()(),e.j41(29,"tbody",52),e.DNE(30,_,23,17,"tr",53),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.Y8G("ngIf",!t.showHistory),e.R7$(),e.Y8G("ngIf",t.showHistory),e.R7$(20),e.Y8G("ngForOf",t.discoveredTickers)}}function x(o,s){if(1&o&&(e.j41(0,"tr",54)(1,"td",59),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",59),e.EFF(5),e.k0s(),e.j41(6,"td",59),e.EFF(7),e.k0s(),e.j41(8,"td",59),e.EFF(9),e.k0s(),e.j41(10,"td",59),e.EFF(11),e.nI1(12,"number"),e.k0s(),e.j41(13,"td",55)(14,"span",64),e.EFF(15),e.k0s()()()),2&o){const t=s.$implicit;e.R7$(2),e.SpI(" ",e.i5U(3,6,t.timestamp,"MMM d, y, h:mm:ss a")," "),e.R7$(3),e.SpI(" ",t.total_scanned," "),e.R7$(2),e.SpI(" ",t.triggers_found," "),e.R7$(2),e.SpI(" ",t.high_priority," "),e.R7$(2),e.SpI(" ",e.i5U(12,9,t.avg_confidence,"1.1-1"),"% "),e.R7$(4),e.SpI(" ",t.status||"Completed"," ")}}function E(o,s){if(1&o&&(e.j41(0,"div",42)(1,"div",43)(2,"div",63)(3,"h3",45),e.EFF(4,"Discovery History"),e.k0s(),e.j41(5,"p",46),e.EFF(6,"Previous ticker discovery scan results by date"),e.k0s()(),e.j41(7,"div",48)(8,"table",49)(9,"thead",50)(10,"tr")(11,"th",51),e.EFF(12,"Date/Time"),e.k0s(),e.j41(13,"th",51),e.EFF(14,"Total Scanned"),e.k0s(),e.j41(15,"th",51),e.EFF(16,"Triggers Found"),e.k0s(),e.j41(17,"th",51),e.EFF(18,"High Priority"),e.k0s(),e.j41(19,"th",51),e.EFF(20,"Avg Confidence"),e.k0s(),e.j41(21,"th",51),e.EFF(22,"Status"),e.k0s()()(),e.j41(23,"tbody",52),e.DNE(24,x,16,12,"tr",53),e.k0s()()()()()),2&o){const t=e.XpG();e.R7$(24),e.Y8G("ngForOf",t.scanHistory)}}function S(o,s){1&o&&(e.j41(0,"div",65),e.nrm(1,"div",66),e.j41(2,"span",67),e.EFF(3,"Loading ticker discovery data..."),e.k0s()())}function T(o,s){if(1&o&&(e.j41(0,"div",68)(1,"div",69)(2,"div",17),e.qSk(),e.j41(3,"svg",70),e.nrm(4,"path",71),e.k0s()(),e.joV(),e.j41(5,"div",72)(6,"h3",73),e.EFF(7,"Error loading data"),e.k0s(),e.j41(8,"div",74),e.EFF(9),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(9),e.JRh(t.error)}}let R=(()=>{class o{constructor(t,i){this.http=t,this.modalService=i,this.scannerSummary=null,this.rankerSummary=null,this.discoveredTickers=[],this.loading=!0,this.scanning=!1,this.error=null,this.lastUpdated=new Date,this.addingToPortfolio={},this.portfolioSymbols=[],this.showHistory=!1,this.scanHistory=[],this.refreshSubscription=new m.yU}ngOnInit(){this.loadData(),this.loadDiscoveredTickers(),this.loadPortfolioSymbols(),this.refreshSubscription=(0,p.Y)(3e4).subscribe(()=>{this.loadData(),this.loadDiscoveredTickers(),this.loadPortfolioSymbols()})}ngOnDestroy(){this.refreshSubscription.unsubscribe()}loadData(){this.loading=!0,this.error=null,this.http.get("http://localhost:8001/ticker-discovery/scanner-summary").subscribe({next:t=>{this.scannerSummary=t,this.lastUpdated=new Date},error:t=>{console.error("Error loading scanner summary:",t),this.error="Failed to load scanner summary"}}),this.http.get("http://localhost:8001/ticker-discovery/ranker-summary").subscribe({next:t=>{this.rankerSummary=t,this.loading=!1},error:t=>{console.error("Error loading ranker summary:",t),this.error="Failed to load ranker summary",this.loading=!1}})}scanMarket(){this.scanning=!0,this.error=null,this.http.post("http://localhost:8001/ticker-discovery/scan-market",{}).subscribe({next:t=>{this.scanning=!1,this.lastUpdated=new Date,this.loadData(),this.loadDiscoveredTickers()},error:t=>{console.error("Error scanning market:",t),this.scanning=!1,this.error="Failed to scan market"}})}loadDiscoveredTickers(){this.http.get("http://localhost:8001/ticker-discovery/scan-details").subscribe({next:t=>{this.discoveredTickers=t.discovered_tickers||[]},error:t=>{console.error("Error loading discovered tickers:",t)}})}loadPortfolioSymbols(){this.http.get("http://localhost:8001/api/symbols").subscribe({next:t=>{this.portfolioSymbols=(t.symbols||[]).map(r=>r.symbol?.toUpperCase()).filter(Boolean)},error:t=>{console.error("Error loading portfolio symbols:",t)}})}isInPortfolio(t){return this.portfolioSymbols.includes(t?.toUpperCase())}addToPortfolio(t){const i=t.symbol?.toUpperCase();if(!i||this.isInPortfolio(i)||this.addingToPortfolio[i])return;this.addingToPortfolio[i]=!0;const r={symbol:i,name:this.getSymbolName(t),sector:t.sector||"Technology",industry:t.industry||"General"};this.http.post("http://localhost:8001/symbols/add-from-discovery",r).subscribe({next:a=>{this.addingToPortfolio[i]=!1,a.success&&(this.portfolioSymbols.push(i),console.log(`\u2705 Successfully added ${i} to symbol management`),this.modalService.success(`${i} added to Symbol Management. Check Portfolio Management page to see it.`,"Symbol Added"))},error:a=>{console.error(`Error adding ${i} to portfolio:`,a),this.addingToPortfolio[i]=!1,this.modalService.error(`Failed to add ${i} to portfolio: ${a.error?.detail||"Unknown error"}`,"Failed to Add Symbol")}})}getSymbolName(t){return t.name||t.symbol||`${t.symbol} Corporation`}toggleHistory(){this.showHistory=!this.showHistory,this.showHistory&&0===this.scanHistory.length&&this.loadScanHistory()}loadScanHistory(){this.http.get("http://localhost:8001/ticker-discovery/history").subscribe({next:t=>{this.scanHistory=t||[],console.log("\u{1f4cb} Loaded ticker discovery history:",this.scanHistory)},error:t=>{console.error("Error loading scan history:",t)}})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(u.Qq),e.rXU(y.B))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ticker-discovery"]],standalone:!0,features:[e.aNF],decls:103,vars:30,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"py-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"flex","items-center","space-x-4"],[1,"bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"click","disabled"],[4,"ngIf"],[1,"text-right"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-8","h-8","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"w-8","h-8","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-8","h-8","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"w-8","h-8","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"text-gray-600","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-3"],["class","mt-8",4,"ngIf"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-4",4,"ngIf"],[1,"mt-8"],[1,"bg-white","rounded-lg","shadow"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"bg-gray-100","hover:bg-gray-200","text-gray-700","px-3","py-2","rounded-lg","text-sm","font-medium","transition-colors",3,"click"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-blue-600"],[1,"text-sm","text-gray-900","capitalize"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4"],[1,"text-sm","text-gray-900"],[1,"px-3","py-1","rounded-md","text-xs","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-2","text-sm","text-red-700"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h1",5),e.EFF(7,"Ticker Discovery"),e.k0s(),e.j41(8,"p",6),e.EFF(9,"Market Scanner & Opportunity Ranker"),e.k0s()(),e.j41(10,"div",7)(11,"button",8),e.bIt("click",function(){return r.scanMarket()}),e.DNE(12,g,2,0,"span",9)(13,h,2,0,"span",9),e.k0s(),e.j41(14,"div",10)(15,"div",11),e.EFF(16,"Last Updated"),e.k0s(),e.j41(17,"div",12),e.EFF(18),e.nI1(19,"date"),e.k0s()()()()()()(),e.j41(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),e.qSk(),e.j41(26,"svg",19),e.nrm(27,"path",20),e.k0s()()(),e.joV(),e.j41(28,"div",21)(29,"p",22),e.EFF(30,"Total Scanned"),e.k0s(),e.j41(31,"p",23),e.EFF(32),e.k0s()()()(),e.j41(33,"div",15)(34,"div",16)(35,"div",17)(36,"div",24),e.qSk(),e.j41(37,"svg",25),e.nrm(38,"path",26),e.k0s()()(),e.joV(),e.j41(39,"div",21)(40,"p",22),e.EFF(41,"Triggers Found"),e.k0s(),e.j41(42,"p",23),e.EFF(43),e.k0s()()()(),e.j41(44,"div",15)(45,"div",16)(46,"div",17)(47,"div",27),e.qSk(),e.j41(48,"svg",28),e.nrm(49,"path",29),e.k0s()()(),e.joV(),e.j41(50,"div",21)(51,"p",22),e.EFF(52,"High Priority"),e.k0s(),e.j41(53,"p",23),e.EFF(54),e.k0s()()()(),e.j41(55,"div",15)(56,"div",16)(57,"div",17)(58,"div",30),e.qSk(),e.j41(59,"svg",31),e.nrm(60,"path",32),e.k0s()()(),e.joV(),e.j41(61,"div",21)(62,"p",22),e.EFF(63,"Avg Confidence"),e.k0s(),e.j41(64,"p",23),e.EFF(65),e.nI1(66,"number"),e.k0s()()()()(),e.j41(67,"div",15)(68,"h3",33),e.EFF(69,"Ticker Discovery System"),e.k0s(),e.j41(70,"p",34),e.EFF(71," The Ticker Discovery system scans the market for trading opportunities and ranks them based on multiple criteria. "),e.k0s(),e.j41(72,"div",35)(73,"div",36)(74,"h4",37),e.EFF(75,"Market Scanner"),e.k0s(),e.j41(76,"p",38),e.EFF(77," Scans the market universe for opportunities based on various triggers like volatility, volume, momentum, and breakout patterns. "),e.k0s(),e.j41(78,"div",11)(79,"div"),e.EFF(80),e.k0s(),e.j41(81,"div"),e.EFF(82),e.k0s(),e.j41(83,"div"),e.EFF(84),e.k0s()()(),e.j41(85,"div",36)(86,"h4",37),e.EFF(87,"Opportunity Ranker"),e.k0s(),e.j41(88,"p",38),e.EFF(89," Ranks ticker opportunities based on multiple criteria including Sharpe ratio, confidence, risk-adjusted return, and technical strength. "),e.k0s(),e.j41(90,"div",11)(91,"div"),e.EFF(92),e.k0s(),e.j41(93,"div"),e.EFF(94),e.nI1(95,"number"),e.k0s(),e.j41(96,"div"),e.EFF(97),e.nI1(98,"number"),e.k0s()()()()(),e.DNE(99,j,31,3,"div",39)(100,E,25,1,"div",39)(101,S,4,0,"div",40)(102,T,10,1,"div",41),e.k0s()()),2&i&&(e.R7$(11),e.Y8G("disabled",r.scanning),e.R7$(),e.Y8G("ngIf",!r.scanning),e.R7$(),e.Y8G("ngIf",r.scanning),e.R7$(5),e.JRh(e.i5U(19,18,r.lastUpdated,"short")),e.R7$(14),e.JRh((null==r.scannerSummary?null:r.scannerSummary.total_scanned)||0),e.R7$(11),e.JRh((null==r.scannerSummary?null:r.scannerSummary.triggers_found)||0),e.R7$(11),e.JRh((null==r.scannerSummary?null:r.scannerSummary.high_priority)||0),e.R7$(11),e.SpI("",e.i5U(66,21,(null==r.scannerSummary?null:r.scannerSummary.avg_confidence)||0,"1.1-1"),"%"),e.R7$(15),e.SpI("Total Scanned: ",(null==r.scannerSummary?null:r.scannerSummary.total_scanned)||0,""),e.R7$(2),e.SpI("Triggers Found: ",(null==r.scannerSummary?null:r.scannerSummary.triggers_found)||0,""),e.R7$(2),e.SpI("High Priority: ",(null==r.scannerSummary?null:r.scannerSummary.high_priority)||0,""),e.R7$(8),e.SpI("Total Ranked: ",(null==r.rankerSummary?null:r.rankerSummary.total_ranked)||0,""),e.R7$(2),e.SpI("Avg Score: ",e.i5U(95,24,(null==r.rankerSummary?null:r.rankerSummary.avg_score)||0,"1.2-2"),""),e.R7$(3),e.SpI("Avg Confidence: ",e.i5U(98,27,(null==r.rankerSummary?null:r.rankerSummary.avg_confidence)||0,"1.1-1"),"%"),e.R7$(2),e.Y8G("ngIf",r.discoveredTickers.length>0),e.R7$(),e.Y8G("ngIf",r.showHistory&&r.scanHistory.length>0),e.R7$(),e.Y8G("ngIf",r.loading),e.R7$(),e.Y8G("ngIf",r.error))},dependencies:[l.MD,l.Sq,l.bT,l.QX,l.vh],encapsulation:2})}}return o})()}}]);