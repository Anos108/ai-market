"use strict";(self.webpackChunkai_market_analysis=self.webpackChunkai_market_analysis||[]).push([[703],{5703:(_,u,i)=>{i.r(u),i.d(u,{SystemStatusComponent:()=>k});var o=i(177),c=i(6296),t=i(4438),g=i(1520);const m=()=>[1,2,3,4],f=()=>["Agent Name","Status","Last Prediction","Total Predictions","Accuracy","Confidence"],l=()=>["","","","","",""],h=(s,r,e,n,a)=>[s,r,e,n,a];function p(s,r){1&s&&(t.j41(0,"div",16),t.qSk(),t.j41(1,"svg",17),t.nrm(2,"circle",18)(3,"path",19),t.k0s(),t.EFF(4," Loading system data... "),t.k0s())}function v(s,r){if(1&s&&(t.j41(0,"div",20)(1,"div",21)(2,"div",3)(3,"div",22)(4,"div",23)(5,"div",24),t.qSk(),t.j41(6,"svg",25),t.nrm(7,"path",26),t.k0s()()(),t.joV(),t.j41(8,"div",27)(9,"p",14),t.EFF(10,"System Status"),t.k0s(),t.j41(11,"p",28),t.EFF(12),t.k0s()()(),t.j41(13,"div",22),t.nrm(14,"div",29),t.k0s()()(),t.j41(15,"div",21)(16,"div",3)(17,"div",22)(18,"div",23)(19,"div",30),t.qSk(),t.j41(20,"svg",25),t.nrm(21,"path",31),t.k0s()()(),t.joV(),t.j41(22,"div",27)(23,"p",14),t.EFF(24,"Active Agents"),t.k0s(),t.j41(25,"p",28),t.EFF(26),t.k0s()()(),t.j41(27,"div",32)(28,"p",33),t.EFF(29,"Total"),t.k0s(),t.j41(30,"p",34),t.EFF(31,"10"),t.k0s()()()(),t.j41(32,"div",21)(33,"div",3)(34,"div",22)(35,"div",23)(36,"div",35),t.qSk(),t.j41(37,"svg",25),t.nrm(38,"path",36),t.k0s()()(),t.joV(),t.j41(39,"div",27)(40,"p",14),t.EFF(41,"Uptime"),t.k0s(),t.j41(42,"p",28),t.EFF(43),t.k0s()()(),t.j41(44,"div",32)(45,"p",33),t.EFF(46,"Since"),t.k0s(),t.j41(47,"p",37),t.EFF(48,"Start"),t.k0s()()()(),t.j41(49,"div",21)(50,"div",3)(51,"div",22)(52,"div",23)(53,"div",38),t.qSk(),t.j41(54,"svg",25),t.nrm(55,"path",39),t.k0s()()(),t.joV(),t.j41(56,"div",27)(57,"p",14),t.EFF(58,"Data Quality"),t.k0s(),t.j41(59,"p",28),t.EFF(60),t.k0s()()(),t.j41(61,"div",32)(62,"div",40),t.nrm(63,"div",41),t.k0s()()()()()),2&s){const e=t.XpG();t.R7$(12),t.JRh(null!=e.systemStatus&&e.systemStatus.is_running?"Online":"Offline"),t.R7$(14),t.JRh((null==e.systemStatus||null==e.systemStatus.active_agents?null:e.systemStatus.active_agents.length)||0),t.R7$(17),t.JRh(e.formatUptime(null==e.systemStatus?null:e.systemStatus.uptime_seconds)),t.R7$(17),t.SpI("",e.formatPercentage(null==e.systemStatus?null:e.systemStatus.data_quality_score),"%"),t.R7$(3),t.xc7("width",100*((null==e.systemStatus?null:e.systemStatus.data_quality_score)||0),"%")}}function S(s,r){1&s&&(t.j41(0,"div",20),t.nrm(1,"app-skeleton",42),t.k0s()),2&s&&(t.R7$(),t.Y8G("metrics",t.lJ4(1,m)))}function y(s,r){if(1&s&&(t.j41(0,"tr",49)(1,"td",50)(2,"div",22)(3,"div",51)(4,"span",52),t.EFF(5),t.k0s()(),t.j41(6,"span",53),t.EFF(7),t.k0s()()(),t.j41(8,"td",50)(9,"span"),t.nrm(10,"div",54),t.EFF(11),t.nI1(12,"titlecase"),t.k0s()(),t.j41(13,"td",55),t.EFF(14),t.k0s(),t.j41(15,"td",50)(16,"span",53),t.EFF(17),t.k0s()(),t.j41(18,"td",50)(19,"div",22)(20,"span",56),t.EFF(21),t.nI1(22,"number"),t.k0s(),t.j41(23,"div",57),t.nrm(24,"div",58),t.k0s()()(),t.j41(25,"td",50)(26,"div",22)(27,"div",59),t.nrm(28,"div",60),t.k0s(),t.j41(29,"span",61),t.EFF(30),t.nI1(31,"number"),t.k0s()()()()),2&s){const e=r.$implicit,n=r.index,a=t.XpG(2);t.AVh("bg-gray-50",n%2==0),t.R7$(5),t.JRh(e.agent_name.charAt(0)),t.R7$(2),t.JRh(e.agent_name),t.R7$(2),t.HbH(a.getStatusClassEnhanced(e.status)),t.R7$(),t.HbH(a.getStatusDotClass(e.status)),t.R7$(),t.SpI(" ",t.bMT(12,17,e.status)," "),t.R7$(3),t.JRh(e.last_prediction),t.R7$(3),t.JRh(e.total_predictions||0),t.R7$(4),t.SpI("",t.i5U(22,19,e.accuracy||0,"1.1-1"),"%"),t.R7$(3),t.xc7("width",100*(e.accuracy||0),"%"),t.R7$(4),t.xc7("width",100*(e.confidence||0),"%"),t.R7$(2),t.SpI("",t.i5U(31,22,100*(e.confidence||0),"1.0-0"),"%")}}function x(s,r){if(1&s&&(t.j41(0,"div",43)(1,"table",44)(2,"thead")(3,"tr",45)(4,"th",46),t.EFF(5,"Agent Name"),t.k0s(),t.j41(6,"th",46),t.EFF(7,"Status"),t.k0s(),t.j41(8,"th",46),t.EFF(9,"Last Prediction"),t.k0s(),t.j41(10,"th",46),t.EFF(11,"Total Predictions"),t.k0s(),t.j41(12,"th",46),t.EFF(13,"Accuracy"),t.k0s(),t.j41(14,"th",46),t.EFF(15,"Confidence"),t.k0s()()(),t.j41(16,"tbody",47),t.DNE(17,y,32,25,"tr",48),t.k0s()()()),2&s){const e=t.XpG();t.R7$(17),t.Y8G("ngForOf",e.agentsStatus)}}function b(s,r){1&s&&(t.j41(0,"div",62),t.nrm(1,"app-skeleton",63),t.k0s()),2&s&&(t.R7$(),t.Y8G("tableHeaders",t.lJ4(2,f))("tableRows",t.s1E(8,h,t.lJ4(3,l),t.lJ4(4,l),t.lJ4(5,l),t.lJ4(6,l),t.lJ4(7,l))))}let k=(()=>{class s{constructor(e){this.systemStatusService=e,this.systemStatus=null,this.agentsStatus=[],this.isLoadingSystemStatus=!0,this.isLoadingAgentsStatus=!0}ngOnInit(){this.loadSystemStatus(),this.loadAgentsStatus()}loadSystemStatus(){this.isLoadingSystemStatus=!0,console.log("Loading system status..."),this.systemStatusService.getSystemStatus().subscribe({next:e=>{console.log("System status loaded successfully:",e),this.systemStatus=e,this.isLoadingSystemStatus=!1,console.log("System status loading state set to false")},error:e=>{console.error("Error loading system status:",e),this.isLoadingSystemStatus=!1,console.log("System status loading state set to false (error)")}})}loadAgentsStatus(){this.isLoadingAgentsStatus=!0,console.log("Loading agents status..."),this.systemStatusService.getAgentsStatus().subscribe({next:e=>{console.log("Agents status loaded successfully:",e),this.agentsStatus=e,this.isLoadingAgentsStatus=!1,console.log("Agents status loading state set to false")},error:e=>{console.error("Error loading agents status:",e),this.isLoadingAgentsStatus=!1,console.log("Agents status loading state set to false (error)")}})}getStatusClass(e){const n="status-indicator";switch(e.toLowerCase()){case"idle":default:return`${n} status-idle`;case"active":case"running":return`${n} status-active`;case"error":return`${n} status-error`;case"warning":return`${n} status-warning`}}getStatusClassEnhanced(e){return"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium"}getStatusDotClass(e){switch(e.toLowerCase()){case"idle":default:return"bg-gray-400";case"active":case"running":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500"}}formatUptime(e){if(!e)return"N/A";const n=Math.floor(e/3600),a=Math.floor(e%3600/60),d=Math.floor(e%60);return n>0?`${n}h ${a}m`:a>0?`${a}m ${d}s`:`${d}s`}formatPercentage(e){return null==e?"0":(100*e).toFixed(1)}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(g.X))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-system-status"]],standalone:!0,features:[t.aNF],decls:27,vars:6,consts:[["systemOverviewLoading",""],["agentsTableLoading",""],[1,"space-y-6","max-w-7xl","mx-auto"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],["class","flex items-center text-sm text-blue-600",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",4,"ngIf","ngIfElse"],[1,"card-enhanced"],[1,"card-header-enhanced"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","items-center","space-x-2"],[1,"w-2","h-2","bg-green-500","rounded-full","animate-pulse"],[1,"text-sm","font-medium","text-gray-600"],["class","overflow-x-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","text-sm","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"metric-card-enhanced"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-gradient-to-br","from-green-400","to-green-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-4"],[1,"text-2xl","font-bold","text-gray-900"],[1,"w-3","h-3","bg-green-500","rounded-full","animate-pulse"],[1,"w-12","h-12","bg-gradient-to-br","from-blue-400","to-blue-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"text-right"],[1,"text-xs","text-gray-500"],[1,"text-sm","font-semibold","text-blue-600"],[1,"w-12","h-12","bg-gradient-to-br","from-amber-400","to-amber-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-semibold","text-amber-600"],[1,"w-12","h-12","bg-gradient-to-br","from-purple-400","to-purple-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"w-12","h-2","bg-gray-200","rounded-full"],[1,"h-2","bg-gradient-to-r","from-purple-400","to-purple-600","rounded-full"],["type","metrics",3,"metrics"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"border-b","border-gray-200"],[1,"table-header-enhanced"],[1,"divide-y","divide-gray-100"],["class","table-row-enhanced",3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"table-row-enhanced"],[1,"table-cell-enhanced"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-400","to-blue-600","rounded-lg","flex","items-center","justify-center","mr-3"],[1,"text-white","text-xs","font-bold"],[1,"font-semibold","text-gray-900"],[1,"w-2","h-2","rounded-full","mr-2"],[1,"table-cell-enhanced","text-sm","text-gray-500"],[1,"font-semibold","text-gray-900","mr-2"],[1,"w-12","h-1","bg-gray-200","rounded-full"],[1,"h-1","bg-gradient-to-r","from-red-400","to-green-400","rounded-full"],[1,"w-16","bg-gray-200","rounded-full","h-2","mr-3"],[1,"bg-gradient-to-r","from-blue-400","to-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","font-semibold","text-gray-700"],[1,"p-6"],["type","table",3,"tableHeaders","tableRows"]],template:function(n,a){if(1&n&&(t.j41(0,"div",2)(1,"div")(2,"div",3)(3,"div")(4,"h1",4),t.EFF(5,"System Status"),t.k0s(),t.j41(6,"p",5),t.EFF(7,"Monitor system health and agent performance"),t.k0s()(),t.DNE(8,p,5,0,"div",6),t.k0s()(),t.DNE(9,v,64,6,"div",7)(10,S,2,2,"ng-template",null,0,t.C5r),t.j41(12,"div",8)(13,"div",9)(14,"div",3)(15,"div")(16,"h3",10),t.EFF(17,"Agent Status"),t.k0s(),t.j41(18,"p",11),t.EFF(19,"Monitor individual agent performance and status"),t.k0s()(),t.j41(20,"div",12),t.nrm(21,"div",13),t.j41(22,"span",14),t.EFF(23),t.k0s()()()(),t.DNE(24,x,18,1,"div",15)(25,b,2,14,"ng-template",null,1,t.C5r),t.k0s()()),2&n){const d=t.sdS(11),F=t.sdS(26);t.R7$(8),t.Y8G("ngIf",a.isLoadingSystemStatus||a.isLoadingAgentsStatus),t.R7$(),t.Y8G("ngIf",!a.isLoadingSystemStatus)("ngIfElse",d),t.R7$(14),t.SpI("",a.agentsStatus.length," Agents"),t.R7$(),t.Y8G("ngIf",!a.isLoadingAgentsStatus)("ngIfElse",F)}},dependencies:[o.MD,o.Sq,o.bT,o.QX,o.PV,c.N],encapsulation:2})}}return s})()}}]);