"use strict";(self.webpackChunkai_market_analysis=self.webpackChunkai_market_analysis||[]).push([[495],{6495:(y,p,l)=>{l.r(p),l.d(p,{ReportsComponent:()=>R});var i=l(177),e=l(4438),d=l(1626),g=l(3512);function m(n,s){1&n&&(e.j41(0,"div",22),e.nrm(1,"div",23),e.j41(2,"span",24),e.EFF(3,"Loading reporting system..."),e.k0s()())}function u(n,s){if(1&n&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.qSk(),e.j41(3,"svg",28),e.nrm(4,"path",29),e.k0s()(),e.joV(),e.j41(5,"div",30)(6,"h3",31),e.EFF(7,"Error loading data"),e.k0s(),e.j41(8,"div",32),e.EFF(9),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(9),e.JRh(t.error)}}function c(n,s){if(1&n&&(e.j41(0,"div",33)(1,"div",34)(2,"h3",35),e.EFF(3,"Total Trades"),e.k0s(),e.j41(4,"p",36),e.EFF(5),e.k0s()(),e.j41(6,"div",37)(7,"h3",38),e.EFF(8,"Forecast Errors"),e.k0s(),e.j41(9,"p",39),e.EFF(10),e.k0s()(),e.j41(11,"div",40)(12,"h3",41),e.EFF(13,"Agents Tracked"),e.k0s(),e.j41(14,"p",42),e.EFF(15),e.k0s()()()),2&n){const t=e.XpG();e.R7$(5),e.JRh((null==t.systemSummary.report_agent?null:t.systemSummary.report_agent.total_trades)||0),e.R7$(5),e.JRh((null==t.systemSummary.report_agent?null:t.systemSummary.report_agent.total_forecast_errors)||0),e.R7$(5),e.JRh((null==t.systemSummary.report_agent?null:t.systemSummary.report_agent.agents_tracked)||0)}}function _(n,s){1&n&&(e.j41(0,"div",43),e.EFF(1," No reports generated yet. Click a button above to generate your first report. "),e.k0s())}function b(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",18)(1,"div",45)(2,"div")(3,"h3",46),e.EFF(4),e.nI1(5,"titlecase"),e.k0s(),e.j41(6,"p",47),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"p",47),e.EFF(10),e.nI1(11,"uppercase"),e.k0s(),e.j41(12,"p",47),e.EFF(13),e.nI1(14,"number"),e.k0s()(),e.j41(15,"div",48)(16,"button",49),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.downloadReport(r))}),e.EFF(17," Download "),e.k0s(),e.j41(18,"button",50),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.viewReport(r))}),e.EFF(19," View "),e.k0s()()()()}if(2&n){const t=s.$implicit;e.R7$(4),e.SpI("",e.bMT(5,4,t.report_type)," Report"),e.R7$(3),e.SpI("Generated: ",e.i5U(8,6,t.generated_at,"medium"),""),e.R7$(3),e.SpI("Format: ",e.bMT(11,9,t.format),""),e.R7$(3),e.SpI("File Size: ",e.bMT(14,11,t.file_size)," bytes")}}function f(n,s){if(1&n&&(e.j41(0,"div",17),e.DNE(1,b,20,13,"div",44),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.generatedReports)}}function h(n,s){if(1&n&&(e.j41(0,"div",51)(1,"h3",19),e.EFF(2),e.k0s(),e.j41(3,"div",52)(4,"p",53),e.EFF(5),e.k0s()()()),2&n){const t=e.XpG();e.R7$(2),e.JRh(t.explanationResult.title),e.R7$(3),e.JRh(t.explanationResult.detailed_explanation)}}let R=(()=>{class n{constructor(t,o){this.http=t,this.modalService=o,this.loading=!0,this.error=null,this.systemSummary=null,this.generating=!1,this.explaining=!1,this.currentReport=null,this.currentExplanation=null,this.generatedReports=[],this.explanationResult=null}ngOnInit(){this.loadSystemSummary()}loadSystemSummary(){this.loading=!0,this.error=null,this.http.get("http://localhost:8001/reports/summary").subscribe({next:t=>{this.systemSummary=t,this.loading=!1},error:t=>{console.error("Error loading system summary:",t),this.error="Failed to load reporting system summary.",this.loading=!1}})}generateReport(t){this.generating=!0,this.currentReport=t;let o="";switch(t){case"daily":o="http://localhost:8001/reports/daily";break;case"weekly":o="http://localhost:8001/reports/weekly";break;case"agent-performance":o="http://localhost:8001/reports/agent-performance";break;default:return this.generating=!1,void(this.currentReport=null)}this.http.get(o).subscribe({next:r=>{this.generatedReports.unshift(r),this.generating=!1,this.currentReport=null},error:r=>{console.error(`Error generating ${t} report:`,r),this.generating=!1,this.currentReport=null,this.modalService.error(`Failed to generate ${t} report. Please try again.`)}})}generateExplanation(t){this.explaining=!0,this.currentExplanation=t;const o={explanation_type:t,data:this.getExplanationData(t),tone:"professional"};this.http.post("http://localhost:8001/reports/explain",o).subscribe({next:r=>{this.explanationResult=r,this.explaining=!1,this.currentExplanation=null},error:r=>{console.error(`Error generating ${t} explanation:`,r),this.explaining=!1,this.currentExplanation=null,this.modalService.error(`Failed to generate ${t} explanation. Please try again.`)}})}getExplanationData(t){switch(t){case"trade_decision":return{symbol:"BTC-USD",trade_type:"long",confidence_score:.75,entry_price:69e3,quantity:.001719,agent_signals:["MomentumAgent","RiskAgent"],market_regime:"bull"};case"agent_performance":return{agent_name:"MomentumAgent",win_rate:65.2,total_signals:45,successful_signals:29,failed_signals:16,avg_confidence:.78,best_performing_regime:"bull",worst_performing_regime:"sideways"};case"market_analysis":return{market_regime:"bull",volatility:.15,trend_direction:"upward",regime_duration:5,regime_strength:.8};default:return{}}}downloadReport(t){this.modalService.info(`Downloading ${t.report_type} report (${t.format})`,"Download Report")}viewReport(t){this.modalService.info(`Viewing ${t.report_type} report (${t.format})`,"View Report")}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(d.Qq),e.rXU(g.B))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-reports"]],standalone:!0,features:[e.aNF],decls:54,vars:20,consts:[[1,"min-h-screen","bg-gray-50"],[1,"max-w-7xl","mx-auto","py-6","sm:px-6","lg:px-8"],[1,"px-4","py-6","sm:px-0"],[1,"text-3xl","font-bold","text-gray-900","mb-8"],[1,"bg-white","shadow","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],["class","flex items-center justify-center py-8",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-4",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-3 gap-6",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"bg-green-600","hover:bg-green-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"bg-purple-600","hover:bg-purple-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"bg-orange-600","hover:bg-orange-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click","disabled"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"space-y-4"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-4"],["class","mt-6 border border-gray-200 rounded-lg p-4 bg-gray-50",4,"ngIf"],[1,"flex","items-center","justify-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-2","text-sm","text-red-700"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-blue-50","p-4","rounded-lg"],[1,"text-sm","font-medium","text-blue-800"],[1,"text-2xl","font-bold","text-blue-900"],[1,"bg-green-50","p-4","rounded-lg"],[1,"text-sm","font-medium","text-green-800"],[1,"text-2xl","font-bold","text-green-900"],[1,"bg-purple-50","p-4","rounded-lg"],[1,"text-sm","font-medium","text-purple-800"],[1,"text-2xl","font-bold","text-purple-900"],[1,"text-center","py-8","text-gray-500"],["class","border border-gray-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","space-x-2"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-1","rounded","text-sm",3,"click"],[1,"bg-green-600","hover:bg-green-700","text-white","px-3","py-1","rounded","text-sm",3,"click"],[1,"mt-6","border","border-gray-200","rounded-lg","p-4","bg-gray-50"],[1,"prose","max-w-none"],[1,"text-sm","text-gray-700","whitespace-pre-line"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Reporting System"),e.k0s(),e.j41(5,"div",4)(6,"h2",5),e.EFF(7,"System Summary"),e.k0s(),e.DNE(8,m,4,0,"div",6)(9,u,10,1,"div",7)(10,c,16,3,"div",8),e.k0s(),e.j41(11,"div",4)(12,"h2",5),e.EFF(13,"Generate Reports"),e.k0s(),e.j41(14,"div",9)(15,"button",10),e.bIt("click",function(){return r.generateReport("daily")}),e.EFF(16),e.k0s(),e.j41(17,"button",11),e.bIt("click",function(){return r.generateReport("weekly")}),e.EFF(18),e.k0s(),e.j41(19,"button",12),e.bIt("click",function(){return r.generateReport("agent-performance")}),e.EFF(20),e.k0s(),e.j41(21,"button",13),e.bIt("click",function(){return r.generateReport("trade-based")}),e.EFF(22),e.k0s()()(),e.j41(23,"div",4)(24,"h2",5),e.EFF(25,"Generated Reports"),e.k0s(),e.DNE(26,_,2,0,"div",14)(27,f,2,1,"div",15),e.k0s(),e.j41(28,"div",16)(29,"h2",5),e.EFF(30,"AI Explanations"),e.k0s(),e.j41(31,"div",17)(32,"div",18)(33,"h3",19),e.EFF(34,"Trade Decision Explanation"),e.k0s(),e.j41(35,"p",20),e.EFF(36,"Get AI-powered explanations for trading decisions"),e.k0s(),e.j41(37,"button",10),e.bIt("click",function(){return r.generateExplanation("trade_decision")}),e.EFF(38),e.k0s()(),e.j41(39,"div",18)(40,"h3",19),e.EFF(41,"Agent Performance Explanation"),e.k0s(),e.j41(42,"p",20),e.EFF(43,"Get AI-powered explanations for agent performance"),e.k0s(),e.j41(44,"button",11),e.bIt("click",function(){return r.generateExplanation("agent_performance")}),e.EFF(45),e.k0s()(),e.j41(46,"div",18)(47,"h3",19),e.EFF(48,"Market Analysis Explanation"),e.k0s(),e.j41(49,"p",20),e.EFF(50,"Get AI-powered explanations for market analysis"),e.k0s(),e.j41(51,"button",12),e.bIt("click",function(){return r.generateExplanation("market_analysis")}),e.EFF(52),e.k0s()()(),e.DNE(53,h,6,2,"div",21),e.k0s()()()()),2&o&&(e.R7$(8),e.Y8G("ngIf",r.loading),e.R7$(),e.Y8G("ngIf",r.error),e.R7$(),e.Y8G("ngIf",!r.loading&&!r.error&&r.systemSummary),e.R7$(5),e.Y8G("disabled",r.generating),e.R7$(),e.SpI(" ",r.generating&&"daily"===r.currentReport?"Generating...":"Daily Report"," "),e.R7$(),e.Y8G("disabled",r.generating),e.R7$(),e.SpI(" ",r.generating&&"weekly"===r.currentReport?"Generating...":"Weekly Report"," "),e.R7$(),e.Y8G("disabled",r.generating),e.R7$(),e.SpI(" ",r.generating&&"agent-performance"===r.currentReport?"Generating...":"Agent Performance"," "),e.R7$(),e.Y8G("disabled",r.generating),e.R7$(),e.SpI(" ",r.generating&&"trade-based"===r.currentReport?"Generating...":"Trade-Based Report"," "),e.R7$(4),e.Y8G("ngIf",0===r.generatedReports.length),e.R7$(),e.Y8G("ngIf",r.generatedReports.length>0),e.R7$(10),e.Y8G("disabled",r.explaining),e.R7$(),e.SpI(" ",r.explaining&&"trade_decision"===r.currentExplanation?"Generating...":"Generate Trade Explanation"," "),e.R7$(6),e.Y8G("disabled",r.explaining),e.R7$(),e.SpI(" ",r.explaining&&"agent_performance"===r.currentExplanation?"Generating...":"Generate Performance Explanation"," "),e.R7$(6),e.Y8G("disabled",r.explaining),e.R7$(),e.SpI(" ",r.explaining&&"market_analysis"===r.currentExplanation?"Generating...":"Generate Market Explanation"," "),e.R7$(),e.Y8G("ngIf",r.explanationResult))},dependencies:[i.MD,i.Sq,i.bT,i.Pc,i.QX,i.PV,i.vh],encapsulation:2})}}return n})()}}]);